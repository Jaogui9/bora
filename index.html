<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Bora - Eventos em Piracicaba</title>
    <link rel="manifest" href="manifest.json">
    <!-- Mantive TODO o CSS original -->
    <style>
        /* --- estilos originais j√° inclu√≠dos --- */
        .event-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            gap: 10px;
        }
        .action-btn {
            flex: 1;
            padding: 8px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        .confirm-btn { background: var(--success-color); color: white; }
        .confirm-btn:hover { opacity: 0.9; }
        .interest-btn { background: var(--warning-color); color: black; }
        .interest-btn:hover { opacity: 0.9; }
    </style>
</head>
<body>
    <!-- === mantida toda a estrutura original (status-bar, p√°ginas, modal, easter eggs, toasts etc.) === -->

    <script>
        // === mantida toda a l√≥gica original (vari√°veis, easter eggs, filtros, toasts, PWA etc.) ===

        // sobrescreve addEventToList para incluir bot√µes de a√ß√£o
        function addEventToList(eventData) {
            const eventList = document.getElementById("event-list");
            const card = document.createElement("div");
            card.className = "event-card";
            card.dataset.category = eventData.category || "outros";

            card.innerHTML = `
                <div class="event-image">${eventData.category ? eventData.category.toUpperCase() : 'EVENTO'}</div>
                <div class="event-info">
                    <div class="event-title">${eventData.name}</div>
                    <div class="event-date">${eventData.date}</div>
                    <div class="event-location">${eventData.location}</div>
                    <div class="event-actions">
                        <button class="action-btn confirm-btn" onclick='confirmPresence(${JSON.stringify(eventData)})'>Confirmar</button>
                        <button class="action-btn interest-btn" onclick='markInterest(${JSON.stringify(eventData)})'>Tenho Interesse</button>
                    </div>
                </div>
            `;
            eventList.appendChild(card);
        }

        function addToMyEvents(eventData, status) {
            const myEventsList = document.getElementById("my-events-list");
            const card = document.createElement("div");
            card.className = "event-card";
            card.innerHTML = `
                <div class="event-info">
                    <div class="event-title">${eventData.name}</div>
                    <div class="event-date">${eventData.date}</div>
                    <div class="event-location">${eventData.location}</div>
                    <p style="margin-top:8px; font-size:12px; color:#666;">Status: <b>${status}</b></p>
                </div>
            `;
            if (myEventsList.querySelector(".placeholder-text")) {
                myEventsList.innerHTML = "";
            }
            myEventsList.appendChild(card);
        }

        function confirmPresence(eventData) {
            addToMyEvents(eventData, "Confirmado ‚úÖ");
            showToast("Voc√™ confirmou presen√ßa neste evento!", "success");
        }

        function markInterest(eventData) {
            addToMyEvents(eventData, "Interessado ‚≠ê");
            showToast("Voc√™ marcou interesse neste evento!", "info");
        }

        // Ajusta o submit do formul√°rio para realmente adicionar o evento
        document.getElementById('eventForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const eventData = {
                name: document.getElementById('eventName').value,
                date: document.getElementById('eventDate').value,
                location: document.getElementById('eventLocation').value,
                category: document.getElementById('eventCategory').value,
                description: document.getElementById('eventDescription').value,
                plan: selectedPlan,
                timestamp: new Date().toISOString()
            };

            await new Promise(resolve => setTimeout(resolve, 1000));
            addEventToList(eventData);
            showToast("üéâ Evento criado com sucesso!", "success");
            closeModal();
        });
    </script>
</body>
</html>
